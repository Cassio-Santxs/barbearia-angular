<div class="container mt-5">
  <div class="card">
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-lg-6 text-start">
          <h3>Logs de Auditoria</h3>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-1">
          <label for="id" class="form-label">ID</label>
          <input type="text" id="id" class="form-control" [(ngModel)]="filtro.id" />
        </div>

        <div class="col-md-3">
          <label for="valorAntigo" class="form-label">Valor Antigo</label>
          <input type="text" id="valorAntigo" class="form-control" [(ngModel)]="filtro.valorAntigo" />
        </div>
      
        <div class="col-md-3">
          <label for="valorNovo" class="form-label">Valor Novo</label>
          <input type="text" id="valorNovo" class="form-control" [(ngModel)]="filtro.valorNovo" />
        </div>

        <div class="col-md-4">
          <label for="email" class="form-label">Email</label>
          <input type="email" id="email" class="form-control" [(ngModel)]="filtro.email" />
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-2">
          <label for="dataInicial" class="form-label">Data Inicial</label>
          <input type="date" id="dataInicial" class="form-control" [(ngModel)]="filtro.dataInicial" />
        </div>
      
        <div class="col-md-2">
          <label for="dataFinal" class="form-label">Data Final</label>
          <input type="date" id="dataFinal" class="form-control" [(ngModel)]="filtro.dataFinal" />
        </div>
      </div>

      <div class="row mb-5">
        <div class="col-lg-12 col-sm-12 text-end">
          <button
            (click)="applyFilter()"
            class="btn btn-info"
          >
            <i class="fa fa-search fa-1x"
              ><span style="padding-left: 8px">Buscar</span></i
            >
          </button>
        </div>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th scope="col">Id</th>
            <th scope="col">E-mail Usuário</th>
            <th scope="col">Valor Antigo</th>
            <th scope="col">Valor Novo</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          @for (log of lista; track $index){
          <tr>
            <td>{{ log.idLog }}</td>
            <td>{{ log.dsEmailUsuario }}</td>
            <td>{{ log.vlAntigo }}</td>
            <td>{{ log.vlNovo }}</td>
            <td>{{ log.dtAlteracao }}</td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #modalDetalhe>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Cadastro de Funcionários</h5>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modalRef.close()"
    ></button>
  </div>
  <div class="modal-body">
    <app-log-details [obj]="logEdit" (retorno)="retornoDetalhe($event)">
    </app-log-details>
  </div>
</ng-template>
